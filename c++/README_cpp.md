# c++
The folder contains the Multimedia management system. The class defined are `Multimedia`, `Photo`, `Video`, `Film`, `Group`, and `Gestionnaire`. For more information, please check the folder `htmp_cpp` and  launch the `index.html` to get more details for the system.

Instructions to makefile and run the server (from the root folder)
```
>cd c++
>make
>./server
```

Instructions to clean the system (from root folder)
```
>cd c++/tcpserver
>make clean -f Makefilecliserv
>cd ..
>make clean
```

## html_cpp
The folder generated by Doxygen to for Documenting the Project in a `html` form.
Please find the `index.html` and double click it to launch the document.

## tcpserver
The folder from professor which contains the `server.cpp` modified to meet our need. We implement here the `CallBack `defined in the `tcpserver.h`.
```
auto* server =
  /**
   * @brief We implemenet abstract class for the TCPServer
   * 
   */
  new TCPServer( [&](std::string const& request, std::string& response) {

    // the request sent by the client to the server
    std::cout << "request: " << request << std::endl;

    std::stringstream ss;
    ss<<request;

    std::string cm,nom;

    ss>>cm>>nom;

    if (cm=="RechercherMultimedia"){
      MultimediaPtr m = geste->findMultiP(nom);
      response = nom+"found in server";
    }
    else if (cm=="RechercherGroup"){
      GroupPtr g = geste->findGroupP(nom);
      response = nom+"found in server";
    }
    else if(cm =="AfficherMultimedia"){
      std::stringstream s;
      geste->afficherMulti(nom,s);
      response = "The Multimedia is: "+s.str();
     
 
    }
    else if(cm =="AfficherGroup"){
      std::stringstream s;
      geste->afficherMulti(nom,s);
      response = "The Multimedia is: "+s.str();
     

    }
    else if(cm=="JouerMultimedia"){
      geste->jouerMulti(nom);
      response = nom+"played in the server";
    }



    // the response that the server sends back to the client
    

    // return false would close the connecytion with the client
    return true;
  });
```
We set demo for the management system of multimedias as 
```
Gestionnaire * geste = new Gestionnaire();

Photo p2= geste->createPhoto("photo2","/cal/exterieurs/yang-21/INF224/media/photos/photo2");

    
Photo p3= geste->createPhoto("photo3","/cal/exterieurs/yang-21/INF224/media/photos/photo3");

Photo p4= geste->createPhoto("photo4","/cal/exterieurs/yang-21/INF224/media/photos/photo4");

Photo p5= geste->createPhoto("photo5","/cal/exterieurs/yang-21/INF224/media/photos/photo5");

Video v2= geste->createVideo("video2","/cal/exterieurs/yang-21/INF224/media/videos/video2");

Video v3= geste->createVideo("video3","/cal/exterieurs/yang-21/INF224/media/videos/video3");

int durs[4] = {5,5,5,3};

unsigned int n_durs = 4;

Film f1 = geste->createFilm("film1","/cal/exterieurs/yang-21/INF224/media/films/film1",durs,n_durs);

Group grp1 = geste->createGroup("group1");

grp1.push_back(v1);

grp1.push_back(p1);
```
At the server side, the Gestionnaire object `geste` contains `group1`(includes `photo1`, `video1`), `photo2`, `photo3`, `photo4`, `photo5`, `video2`, `video3`, and `film1`.